import{_ as m,f as u,k as _,r as p,o as f,c as w,a as e,b,w as h,q as v,y as i,A as l,F as g}from"./index-jjd0GBJI.js";import{a as x}from"./axios-G2rPRu76.js";var P={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rubby-api",BASE_URL:"/week8/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:k}=P,y={setup(){const n=u({username:"",password:""}),o=_();return{user:n,login:()=>{x.post(`${k}/admin/signin`,n.value).then(s=>{const{token:a,expired:r}=s.data;document.cookie=`rubbyToken=${a}; expires=${new Date(r)};`,o.push("/admin/products"),window.scrollTo(0,0)}).catch(s=>{alert(s.response.data.message)})}}}},V={class:"container mt-5"},E=e("h1",{class:"fs-2"},"Cat Paws",-1),R={class:"container d-flex justify-content-center align-items-center text-center vh-100 w-100"},A={class:"row"},T=e("div",{class:"fs-3 mb-3 fw-normal text-brown"},"請先登入",-1),L={class:"form-floating"},D=e("label",{for:"username"},"Email address",-1),U={class:"form-floating mt-4"},B=e("label",{for:"password"},"Password",-1),S=e("button",{class:"w-100 btn btn-lg btn-brown mt-4",type:"submit"},"登入",-1),q=e("p",{class:"mt-5 mb-3 text-muted copy"},"© 2024 by Ariel",-1);function C(n,o,d,s,a,r){const c=p("RouterLink");return f(),w(g,null,[e("div",V,[b(c,{class:"navbar-brand logo text-brown",to:"/"},{default:h(()=>[E]),_:1})]),e("div",R,[e("div",A,[e("form",{class:"form-signin bg-vanilla shadow p-5 rounded w-100",onSubmit:o[2]||(o[2]=v((...t)=>s.login&&s.login(...t),["prevent"]))},[T,e("div",L,[i(e("input",{type:"email",class:"form-control mt-4","onUpdate:modelValue":o[0]||(o[0]=t=>s.user.username=t),id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[l,s.user.username]]),D]),e("div",U,[i(e("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>s.user.password=t),id:"password",placeholder:"Password",required:""},null,512),[[l,s.user.password]]),B]),S,q],32)])])],64)}const F=m(y,[["render",C]]);export{F as default};
