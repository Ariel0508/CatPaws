import{_ as m,g as u,k as _,r as p,o as f,c as w,a as s,b,w as h,s as v,z as i,D as l,F as g}from"./index-mM805-gr.js";import{a as x}from"./axios-G2rPRu76.js";var P={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rubby-api",BASE_URL:"/week8/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:k}=P,V={setup(){const n=u({username:"",password:""}),o=_();return{user:n,login:()=>{x.post(`${k}/admin/signin`,n.value).then(e=>{const{token:a,expired:r}=e.data;document.cookie=`rubbyToken=${a}; expires=${new Date(r)};`,o.push("/admin/products"),window.scrollTo(0,0),console.log(a,r)}).catch(e=>{alert(e.response.data.message)})}}}},y={class:"container mt-5"},E=s("h1",{class:"fs-2"},"Cat Paws",-1),R={class:"container d-flex justify-content-center align-items-center text-center vh-100 w-100"},T={class:"row"},A=s("div",{class:"fs-3 mb-3 fw-normal text-brown"},"請先登入",-1),D={class:"form-floating"},L=s("label",{for:"username"},"Email address",-1),U={class:"form-floating mt-4"},B=s("label",{for:"password"},"Password",-1),S=s("button",{class:"w-100 btn btn-lg btn-brown mt-4",type:"submit"}," 登入 ",-1),C=s("p",{class:"mt-5 mb-3 text-muted copy"},"© 2024 by Ariel",-1);function I(n,o,d,e,a,r){const c=p("RouterLink");return f(),w(g,null,[s("div",y,[b(c,{class:"navbar-brand logo text-brown",to:"/"},{default:h(()=>[E]),_:1})]),s("div",R,[s("div",T,[s("form",{class:"form-signin bg-vanilla shadow p-5 rounded w-100",onSubmit:o[2]||(o[2]=v((...t)=>e.login&&e.login(...t),["prevent"]))},[A,s("div",D,[i(s("input",{type:"email",class:"form-control mt-4","onUpdate:modelValue":o[0]||(o[0]=t=>e.user.username=t),id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[l,e.user.username]]),L]),s("div",U,[i(s("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>e.user.password=t),id:"password",placeholder:"Password",required:""},null,512),[[l,e.user.password]]),B]),S,C],32)])])],64)}const F=m(V,[["render",I]]);export{F as default};
