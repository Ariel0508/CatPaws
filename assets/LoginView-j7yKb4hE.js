import{_ as m,f as u,j as _,r as p,o as f,c as w,a as e,b,w as h,p as v,z as i,D as l,F as g}from"./index-CP4Mrudi.js";import{a as x}from"./axios-G2rPRu76.js";var P={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rubby-api",BASE_URL:"/week8/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:V}=P,k={setup(){const n=u({username:"",password:""}),s=_();return{user:n,login:()=>{x.post(`${V}/admin/signin`,n.value).then(o=>{const{token:a,expired:r}=o.data;document.cookie=`rubbyToken=${a}; expires=${new Date(r)};`,s.push("/admin/products"),window.scrollTo(0,0),console.log(a,r)}).catch(o=>{alert(o.response.data.message)})}}}},y={class:"container mt-5"},E=e("h1",{class:"fs-2"},"Cat Paws",-1),R={class:"container d-flex justify-content-center align-items-center text-center vh-100 w-100"},T={class:"row"},A=e("div",{class:"fs-3 mb-3 fw-normal text-brown"},"請先登入",-1),D={class:"form-floating"},L=e("label",{for:"username"},"Email address",-1),U={class:"form-floating mt-4"},B=e("label",{for:"password"},"Password",-1),S=e("button",{class:"w-100 btn btn-lg btn-brown mt-4",type:"submit"}," 登入 ",-1),C=e("p",{class:"mt-5 mb-3 text-muted copy"},"© 2024 by Ariel",-1);function I(n,s,d,o,a,r){const c=p("RouterLink");return f(),w(g,null,[e("div",y,[b(c,{class:"navbar-brand logo text-brown",to:"/"},{default:h(()=>[E]),_:1})]),e("div",R,[e("div",T,[e("form",{class:"form-signin bg-vanilla shadow p-5 rounded w-100",onSubmit:s[2]||(s[2]=v((...t)=>o.login&&o.login(...t),["prevent"]))},[A,e("div",D,[i(e("input",{type:"email",class:"form-control mt-4","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t),id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[l,o.user.username]]),L]),e("div",U,[i(e("input",{type:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t),id:"password",placeholder:"Password",required:""},null,512),[[l,o.user.password]]),B]),S,C],32)])])],64)}const q=m(k,[["render",I]]);export{q as default};
